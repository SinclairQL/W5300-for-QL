         lea      udpname,a1
         lea      udp2,a2
         bsr      cmpic
         tst.b    d0
         bne      err
         lea      udp3,a2
         bsr      cmpic
         tst.b    d0
         bne      err
         lea      udp4,a2
         bsr      cmpic
         tst.b    d0
         bne      err
         lea      udpplus,a2
         bsr      cmpic
         tst.b    d0
         bne      err
         lea      foo,a2
         bsr      cmpic
         tst.b    d0
         beq      err
         lea      nul,a2
         bsr      cmpic
         tst.b    d0
         beq      err
         lea      two,a2
         bsr      cmpic
         tst.b    d0
         beq      err
         lea      four,a2
         bsr      cmpic
         tst.b    d0
         beq      err
ok       moveq    #0,d0
         rts
err      moveq    #-1,d0
         rts
cmpic    moveq    #1,d0
         moveq    #2,d1
         move.w   (a2),d2
         cmpi.w   #2,d2
         bls      cmpiexit
cmploop  move.b   0(a1,d1.w),d4
         cmp.b    2(a2,d1.w),d4
         beq      cmplend
         add.b    #$20,d4
         cmp.b    2(a2,d1.w),d4
         bne      cmpiexit
cmplend  dbf      d1,cmploop
         moveq    #0,d0
cmpiexit rts
udpname  dc.w     'UDP'
udp2     dc.w     3,'udp'
udp3     dc.w     3,'uDp'
udp4     dc.w     3,'UDP'
foo      dc.w     3,'foo'
nul      dc.w     0
two      dc.w     2,'ab'
four     dc.w     4,'abcd'
udpplus  dc.w     7,'udpplus'
